<?xml version="1.0"?>
<!--
/**
 * @author    JaJuMa GmbH <info@jajuma.de>
 * @copyright Copyright (c) 2022-present JaJuMa GmbH <https://www.jajuma.de>. All rights reserved.
 * @license   http://opensource.org/licenses/mit-license.php MIT License
 */
-->
<config xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:ObjectManager/etc/config.xsd">
    <type name="Magento\Tax\Model\Config">
        <plugin name="JajumaDynamicShippingTaxClass"
                type="Jajuma\DynamicShippingTax\Plugin\Tax\Config\AroundGetShippingTaxClassPlugin"
                sortOrder="1"/>
    </type>
    <type name="Magento\Tax\Model\Sales\Total\Quote\CommonTaxCollector">
        <plugin name="JajumaDynamicShippingTaxClassCheckout"
                type="Jajuma\DynamicShippingTax\Plugin\Tax\Model\Sales\Total\Quote\CommonTaxCollectorPlugin"
                sortOrder="1"/>
    </type>
    <type name="Jajuma\DynamicShippingTax\Plugin\Tax\Config\AroundGetShippingTaxClassPlugin">
        <arguments>
            <argument name="taxCalculation" xsi:type="object">Magento\Tax\Model\Calculation\Proxy</argument>
        </arguments>
    </type>
    <type name="Jajuma\DynamicShippingTax\Plugin\Tax\Model\Sales\Total\Quote\CommonTaxCollectorPlugin">
        <arguments>
            <argument name="taxCalculation" xsi:type="object">Magento\Tax\Model\Calculation\Proxy</argument>
        </arguments>
    </type>
</config>
